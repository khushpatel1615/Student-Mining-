# ============================================
# Database Configuration
# ============================================
# REQUIRED: Database connection settings
DB_HOST=localhost
DB_NAME=student_data_mining
DB_USER=root
# DB_PASS should be empty for default XAMPP, but MUST be set in production!
DB_PASS=

# ============================================
# JWT Authentication
# ============================================
# REQUIRED: Secret key for JWT token signing
# Generate a strong random string (64+ characters recommended)
# Example: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_A_VERY_LONG_RANDOM_STRING_AT_LEAST_64_CHARACTERS_LONG
JWT_EXPIRY=86400

# ============================================
# CORS Configuration
# ============================================
# REQUIRED: Comma-separated list of allowed frontend URLs
# Example: http://localhost:5173,https://yourdomain.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# Google Gemini AI API
# ============================================
# REQUIRED for AI Chat feature
# Get your API key from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# Email Notification Settings (SMTP)
# ============================================
# REQUIRED for email notifications
# For Gmail: Use App Password (not your regular password)
# Get App Password: https://myaccount.google.com/apppasswords
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your_app_password_here
SMTP_FROM=your-email@gmail.com
SMTP_FROM_NAME=Student Data Mining Alerts
SMTP_SECURE=tls

# ============================================
# Google OAuth (Optional)
# ============================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ============================================
# Redis Configuration (for rate limiting)
# ============================================
# Redis is used for distributed rate limiting across multiple instances
# If Redis is unavailable, rate limiting will fail-open (allow requests) by default
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_TIMEOUT=2.0
REDIS_PASSWORD=

# ============================================
# Rate Limiting Configuration
# ============================================
# General API rate limit (requests per minute)
RATE_LIMIT_MAX_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60

# AI Chat specific rate limit
AI_CHAT_RATE_LIMIT=10

# Behavior when Redis is unavailable
# true = deny requests (fail-closed), false = allow requests (fail-open)
RATE_LIMIT_FAIL_CLOSED=false

# ============================================
# Application Environment
# ============================================
# Set to 'production' to hide error details in API responses
APP_ENV=development
